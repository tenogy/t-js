!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("tenogy",[],n):"object"==typeof exports?exports.tenogy=n():t.tenogy=n()}(this,function(){return function(t){function n(i){if(e[i])return e[i].exports;var o=e[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n,e){t.exports=e(1)},function(t,n,e){var i,o,i,r,i,a,i,s,i,u,i,c,i,l,i,p,i,d,i,f,i,g,i,h,i,y,i,v,i,b,i,m,i,w,i,k,i,B,i,D,i,x,S=this&&this.__extends||function(t,n){function e(){this.constructor=t}for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i]);t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)},M=this&&this.__decorate||function(t,n,e,i){var o,r=arguments.length,a=r<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,n,e,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(n,e,a):o(n,e))||a);return r>3&&a&&Object.defineProperty(n,e,a),a},H=this&&this.__metadata||function(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)};i=[e,n],!(o=function(t,n){"use strict";var e=function(){function t(){}return t.uuid=function(){var t,n,e="";for(t=0;t<32;t++)n=16*Math.random()|0,8!==t&&12!==t&&16!==t&&20!==t||(e+="-"),e+=(12===t?4:16===t?3&n|8:n).toString(16);return e},t.pluralize=function(t,n){return 1===t?n:n+"s"},t.store=function(t,n){if(n)return localStorage.setItem(t,JSON.stringify(n));var e=localStorage.getItem(t);return e&&JSON.parse(e)||[]},t.extend=function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];for(var e={},i=0;i<t.length;i++){var o=t[i];for(var r in o)o.hasOwnProperty(r)&&(e[r]=o[r])}return e},t}();n.Utils=e}.apply(n,i)),i=[e,n],!(r=function(t,n){"use strict";function e(t){var n=new o(t);return n.execute(),n}function i(t){return function(n,i,o){return null!=o&&(i=i.bind(o)),e({url:t,json:!0,data:n,callback:i})}}var o=function(){function t(t){this.config=t,this.loading=!1}return t.prototype.execute=function(){this.loading=!0;var t={url:this.config.url,type:"POST",data:this.config.data,contentType:null,dataType:null,headers:{RequestVerificationToken:null}};this.config.json&&(t.contentType="application/json",t.data=JSON.stringify(this.config.data),t.dataType="json"),this.jqxhr=$.ajax(t).done($.proxy(this.success,this)).fail($.proxy(this.failure,this))},t.prototype.runCallback=function(t,n,e){if(this.config.callback){var i=this.config.scope||this;this.config.callback.apply(i,arguments)}this.loading=!1},t.prototype.success=function(t,n,e){return t.redirect&&!this.config.ignoreRedirect?void window.location.replace(t.redirect):void this.runCallback(t,n,e)},t.prototype.failure=function(t,n){this.runCallback(null,n,t)},t.prototype.abort=function(){if(this.loading)try{this.jqxhr.abort()}catch(t){}},t}();n.AjaxService=o,n.ajax=e;var r=function(){function t(t){var n=this;for(var e in t)n[e]=i(t[e])}return t}();n.AjaxServices=r}.apply(n,i)),i=[e,n],!(a=function(t,n){"use strict";function e(t){return t?new Date(t.Year,t.Month-1,t.Day):null}function i(t){return t?new Date(t.Year,t.Month-1,t.Day,t.Hour,t.Minute,t.Second,t.Millisecond):null}function o(t){return t?(t.toDate&&(t=t.toDate()),{Year:t.getFullYear(),Month:t.getMonth()+1,Day:t.getDate()}):null}function r(t){return t?(t.toDate&&(t=t.toDate()),{Year:t.getFullYear(),Month:t.getMonth()+1,Day:t.getDate(),Hour:t.getHours(),Minute:t.getMinutes(),Second:t.getSeconds(),Millisecond:t.getMilliseconds()}):null}function a(t){return t?(t.toDate&&(t=t.toDate()),t.toLocaleDateString()):""}function s(t){return t?(t.toDate&&(t=t.toDate()),a(t)+", "+u(t.getHours(),2)+":"+u(t.getMinutes(),2)):""}function u(t,n){var e="00"+t,i=t+"";return i.length>=n?i:e.substr(e.length-n)}n.dateFromModel=e,n.dateTimeFromModel=i,n.dateToModel=o,n.dateTimeToModel=r,n.formatDate=a,n.formatDateTime=s,n.padZeros=u}.apply(n,i)),i=[e,n],!(s=function(t,n){"use strict";function e(t,n,e){var i=t[n],o={name:n,read:i};return i[r]=o,i}function i(t){var n=t,e=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return o(this),n.apply(this,t)};return e.prototype=n.prototype,e}function o(t){var n={};for(var e in t){var i=t[e];if(i instanceof Function){var o=i[r];if(void 0!=o){null==o.name&&(o.name=e);var a=n[o.name];null==a?n[o.name]=o:(null!=o.read&&(a.read=o.read),null!=o.write&&(a.write=o.write))}}}var s=[];for(var u in n)s.push(n[u]);s.sort(function(t,n){return t.orderIndex-n.orderIndex});for(var c=0;c<s.length;++c){var l=s[c];if(null==l.read)throw"Computed observable '"+l.name+"' is incorrectly defined.";t[l.name]=ko.pureComputed(l.read,t),l.extenders&&t[l.name].extend(l.extenders)}}var r="$ko$computed";n.computed=e,n.registerComputed=i}.apply(n,i)),i=[e,n],!(u=function(t,n){"use strict";var e=function(){function t(){}return t.prototype.init=function(t,n,e,i,o){},t.prototype.update=function(t,n,e,i,o){},t.prototype.preprocess=function(t,n,e){return t},t.prototype.unwrap=function(t){return null==t?null:ko.utils.unwrapObservable(t)},t.register=function(t,n,e){ko.bindingHandlers[t]=new n,e&&(ko.virtualElements.allowedBindings[t]=!0)},t.registerStateful=function(t,n,e){var i=new n;ko.bindingHandlers[t]={init:function(t,n,e,o,r){return i.init(t,n,o,r)},update:function(t,n,e,o,r){return i.update(t,n,o,r)},preprocess:function(t,n,e){return i.preprocess(t,n,e)}},e&&(ko.virtualElements.allowedBindings[t]=!0)},t}();n.BaseBinding=e}.apply(n,i)),i=[e,n,u],!(c=function(t,n,e){"use strict";var i=function(t){function n(n){var e=t.call(this)||this;return e.bindingHandler=ko.bindingHandlers[n],e}return S(n,t),n.prototype.init=function(t,n,e,i,o){this.bindingHandler.init&&this.bindingHandler.init(t,n,e,i,o)},n.prototype.update=function(t,n,e,i,o){this.bindingHandler.update&&this.bindingHandler.update(t,n,e,i,o)},n}(e.BaseBinding);n.KnockoutBinding=i}.apply(n,i)),i=[e,n,u],!(l=function(t,n,e){"use strict";var i=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.update=function(t,n,e,i,o){var r=n();$.isArray(r)||(r=[r]);for(var a=0,s=r;a<s.length;a++){var u=s[a];if(null==u.name||0===u.name.length)throw"Alias name is not specified.";if(null==u.data)throw"Data is not specified for the '"+u.name+"' alias.";o[u.name]=u.data}},n}(e.BaseBinding);n.AliasBinding=i,e.BaseBinding.register("alias",i,!0)}.apply(n,i)),i=[e,n,u],!(p=function(t,n,e){"use strict";var i=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.init=function(n,e,i,o,r){var a=this;$(n).keypress(function(i){var r=i.keyCode||i.which;if(13==r){var s=t.prototype.unwrap.call(a,e());$(n).blur(),s.call(o),i.preventDefault()}})},n}(e.BaseBinding);n.EnterBinding=i,e.BaseBinding.register("enter",i,!0)}.apply(n,i)),i=[e,n,u],!(d=function(t,n,e){"use strict";var i=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.init=function(n,e,i,o,r){n.innerHTML='<div class="alert" data-bind="visible: shown, css: typeClass()"><button type="button" class="close" data-bind="click: hide"><span>&times;</span></button><strong data-bind="text: caption"></strong> <span data-bind="text: message"></span></div>';var a=t.prototype.unwrap.call(this,e());return ko.applyBindingsToDescendants(a,n),{controlsDescendantBindings:!0}},n}(e.BaseBinding);n.AlertPanelBinding=i,e.BaseBinding.register("alertPanel",i)}.apply(n,i)),i=[e,n,u,o],!(f=function(t,n,e,i){"use strict";function o(t,n){var e={lines:13,length:28,width:14,radius:42,scale:.25,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:60,fps:20,zIndex:2e9,className:"spinner",top:"0",left:"50%",shadow:!1,hwaccel:!1,position:"relative"};e=i.Utils.extend(e,n);var o=ko.utils.domData.get(t,"spin");o||(o=new Spinner(e),ko.utils.domData.set(t,"spin",o)),o.spin(t)}var r=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.update=function(n,e,i,r,a){var s=t.prototype.unwrap.call(this,e()),u=t.prototype.unwrap.call(this,i?i.get("spinOptions"):{})||{},c=n;if(s)return void setTimeout(function(){return o(c,u)},1);var l=ko.utils.domData.get(n,"spin");l&&l.stop()},n}(e.BaseBinding);n.SpinBinding=r,e.BaseBinding.register("spin",r)}.apply(n,i)),i=[e,n,u],!(g=function(t,n,e){"use strict";var i=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.init=function(n,e,i,o,r){var a=e(),s=["<p><br></p>","<p>&nbsp;</p>"],u={height:t.prototype.unwrap.call(this,i.get("height"))||100,callbacks:{onChange:function(t){ko.utils.domData.set(n,"_updating",!0),a(s.indexOf(t)>-1?null:t),$(n).val(t),ko.utils.domData.set(n,"_updating",!1)}}};$(n).summernote(u)},n.prototype.update=function(n,e,i,o,r){var a=t.prototype.unwrap.call(this,e()),s=ko.utils.domData.get(n,"_updating");a&&!s&&$(n).summernote("code",a)},n}(e.BaseBinding);n.SummernoteBinding=i,e.BaseBinding.register("summernote",i)}.apply(n,i)),i=[e,n,u],!(h=function(t,n,e){"use strict";var i=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.init=function(t,n,e,i,o){var r=n(),a=e(),s=a.uploading,u={};u.url=a.url||"ru",u.maxFileSize=a.maxFileSize||5,u.acceptFileTypes=a.acceptFileTypes||"",u.done=function(t,n){s&&s(!1),r(n)},$(t).fileupload(u).on("change",function(){s&&s(!0)})},n}(e.BaseBinding);n.FileUploadBinding=i,e.BaseBinding.register("fileupload",i)}.apply(n,i)),i=[e,n,c],!(y=function(t,n,e){"use strict";var i=function(t){function n(){return t.call(this,"html")||this}return S(n,t),n}(e.KnockoutBinding);n.HtmlStatefulBindings=i,e.KnockoutBinding.registerStateful("htmlStateful",i)}.apply(n,i)),i=[e,n],!(v=function(t,n){"use strict";var e=function(){function t(t,n,e,i){void 0===t&&(t=""),void 0===n&&(n=""),void 0===e&&(e=!1),void 0===i&&(i=""),this.type=ko.observable(t),this.shown=ko.observable(e),this.caption=ko.observable(n),this.message=ko.observable(i)}return t.prototype.typeClass=function(){return"alert-"+this.type()},t.prototype.hide=function(){this.shown(!1)},t.prototype.show=function(t,n,e){(t||n)&&(this.message(t),this.caption(n),this.type(e),this.shown(!0))},t.prototype.showError=function(t,n){this.show(t,n,"danger")},t}();n.AlertMessage=e}.apply(n,i)),i=[e,n,s],!(b=function(t,n,e){"use strict";var i=function(){function t(t){var n=this;this.options=t,this.loading=ko.observable(!1),this.options=this.options||{delay:800,noWaitMessage:null,waitMessage:null};var e=this.options.delay;null==e&&(e=800),this.loadingDelayed=ko.observable(!1),ko.pureComputed(this.loading).extend({rateLimit:e}).subscribe(function(){n.loadingDelayed(n.loading())},this)}return t.prototype.isVisible=function(){return this.loading()&&this.loadingDelayed()},t.prototype.start=function(){this.loading(!0)},t.prototype.stop=function(){this.loading(!1)},t.prototype.running=function(){return this.loading()},t.prototype.hasWaitMessage=function(){return!this.options.noWaitMessage},t.prototype.waitMessage=function(){return this.options.waitMessage},t}();M([e.computed,H("design:type",Function),H("design:paramtypes",[]),H("design:returntype",void 0)],i.prototype,"isVisible",null),M([e.computed,H("design:type",Function),H("design:paramtypes",[]),H("design:returntype",void 0)],i.prototype,"running",null),M([e.computed,H("design:type",Function),H("design:paramtypes",[]),H("design:returntype",void 0)],i.prototype,"waitMessage",null),i=M([e.registerComputed,H("design:paramtypes",[Object])],i),n.LoadingProgress=i,ko.components.isRegistered("loading-progress")||ko.components.register("loading-progress",{viewModel:{createViewModel:function(t){return t.controller}},template:'<div class="loading-progress" data-bind="visible: isVisible">\r\n\t<div class="spinner-container" data-bind="spin: isVisible"></div>\r\n\t<div class="message-container" data-bind="visible: hasWaitMessage">\r\n\t\t<div class="message" data-bind="text: waitMessage"></div>\r\n\t</div>\r\n</div>'})}.apply(n,i)),i=[e,n],!(m=function(t,n){"use strict";!function(t){t[t.asc=1]="asc",t[t.desc=2]="desc"}(n.SortDirection||(n.SortDirection={}));n.SortDirection}.apply(n,i)),i=[e,n,u,m],!(w=function(t,n,e,i){"use strict";var o=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.init=function(n,e,o,r,a){function s(){var t=y();p.removeClass("sort-none sort-asc sort-desc");var n,e=t.direction();n=t.type()===f?e===i.SortDirection.asc?"sort-asc":e===i.SortDirection.desc?"sort-desc":"sort-none":"sort-none",p.addClass(n)}function u(){var t,n=y(),e=n.direction();n.type()===f?t=e===i.SortDirection.asc?i.SortDirection.desc:i.SortDirection.asc:(t=i.SortDirection.asc,n.type(f)),n.direction(t)}function c(t){null!=t&&(t.subscribe(s),p.unbind("click",u),p.click(u))}var l=$(n),p=l,d=o(),f=d.sortType,g=d.parentController;null!=g&&(p=l.parent(g));var h=t.prototype.unwrap.call(this,e()),y=ko.observable(h);return ko.utils.domData.set(n,"vm",y),p.addClass("sort"),h.subscribe(s),y.subscribe(c),l.html('<div class="arrow-desc"></div><div class="arrow-asc"></div>'),ko.applyBindingsToDescendants(y,n),c(h),s(),{controlsDescendantBindings:!0}},n.prototype.update=function(n,e,i,o,r){var a=t.prototype.unwrap.call(this,e()),s=ko.utils.domData.get(n,"vm");s&&s(a)},n}(e.BaseBinding);n.SortBinding=o,e.BaseBinding.register("sort",o)}.apply(n,i)),i=[e,n,m],!(k=function(t,n,e){"use strict";var i=function(){function t(t,n){this.type=ko.observable(t||null),this.direction=ko.observable(n||e.SortDirection.asc)}return t.prototype.subscribe=function(t,n){var e=[this.type,this.direction],i=Rx.Observable.create(function(t){for(var n=0,i=e;n<i.length;n++){var o=i[n];o.subscribe(function(){t.onNext()})}});i.debounce(10).subscribe(t,n)},t.prototype.toModel=function(t){var n=this.type(),e=this.direction();return{Type:null==n?t.defaultType:n,Direction:null==e?t.defaultDirection:e}},t}();n.SortRule=i}.apply(n,i)),i=[e,n,s],!(B=function(t,n,e){"use strict";function i(t){return t.map(function(t){return{index:t.index||t.Index,caption:t.caption||t.Caption,active:t.active||t.Active}})}var o=function(){function t(t,n){this.paging=ko.isObservable(t)?ko.computed(function(){return i.call(this,t()||[])},this):i.call(this,t||[]),ko.isObservable(this.paging)||(this.paging=ko.observable(this.paging)),this.gotoPageHandler=n}return t.prototype.needShow=function(){return this.paging().length>1},t.prototype.gotoPage=function(t){if(!t.active){if(null==this.gotoPageHandler)throw"gotoPageHandler is not specified for the paging.";this.gotoPageHandler(t.index)}},t}();M([e.computed,H("design:type",Function),H("design:paramtypes",[]),H("design:returntype",void 0)],o.prototype,"needShow",null),o=M([e.registerComputed,H("design:paramtypes",[Object,Object])],o),n.ListPaging=o,ko.components.isRegistered("list-paging")||ko.components.register("list-paging",{viewModel:{createViewModel:function(t){return new o(t.paging,t.gotoPageHandler)}},template:'<div class="list-paging" data-bind="visible: needShow, foreach: paging">\r\n\t<a href="#" class="btn" data-bind="text: caption, click: $parent.gotoPage.bind($parent, $data), css: {\'btn-primary\': active, \'btn-default\': !active}"></a>\r\n</div>\r\n'})}.apply(n,i)),i=[e,n],!(D=function(t,n){"use strict";var e=function(){function t(t,n,e,i){i=i||{},this.items=ko.observable(t||[]),this.itemsHtml=ko.observable(n||""),this.paging=ko.observable(e||[]),this.gotoPageHandler=i.gotoPageHandler}return t}();n.ListWithServerHtml=e,ko.components.isRegistered("list-with-server-html")||ko.components.register("list-with-server-html",{viewModel:{createViewModel:function(t){return ko.isObservable(t.list)?ko.pureComputed(function(){return t.list()||new e},null):t.list||new e}},template:'<!-- ko with: items -->\r\n<div class="list-items" data-bind="htmlStateful: $parent.itemsHtml"></div>\r\n<!-- /ko -->\r\n<list-paging params="paging: paging, gotoPageHandler: gotoPageHandler"></list-paging>\r\n'})}.apply(n,i)),i=[e,n,o,r,a,s,u,c,l,p,d,f,g,h,y,v,b,m,w,k,B,D],x=function(t,n,e,i,o,r,a,s,u,c,l,p,d,f,g,h,y,v,b,m,w,k){"use strict";function B(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}B(e),B(i),B(o),B(r),B(a),B(s),B(u),B(c),B(l),B(p),B(d),B(f),B(g),B(h),B(y),B(v),B(b),B(m),B(w),B(k)}.apply(n,i),!(void 0!==x&&(t.exports=x))}])});